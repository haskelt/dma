{{ JS_COPYRIGHT_NOTICE }}
import logger from '{{ SITE_PATH }}/js/logger.js';
import TaskHierarchyObject from '{{ SITE_PATH }}/js/tasks/TaskHierarchyObject.js';

class TextInputObject extends TaskHierarchyObject {
    
/*****************************************************************************/

    constructor (element) {

	super(element);
	this.input = element.querySelector('.fields__file-selector--input');
	this.input.addEventListener('input', this.handleInput.bind(this));
	this.hasContent = false;
	
    } // constructor
    
/*****************************************************************************/

    handleInput (e) {

	var newHasContent = this.input.value == '';
	if(newHasContent != this.hasContent){
	    this.hasContent = newHasContent;
	    logger.postMessage('DEBUG', 'fields', 'Content of file selector ' + this.id + ' has changed to ' + this.input.value);	
	    this.parent.setChildStatus(this, this.hasContent ? 'incomplete' : 'complete');
	}

    } // handleInput
    
/*****************************************************************************/
    
} // TextInputObject

export default TextInputObject;
