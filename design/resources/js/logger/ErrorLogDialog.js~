{{globals.js_copyright_notice}}

import utilities from '../utilities.js?v={{globals.version}}';
import logger from '../logger/logger.js?v={{globals.version}}';
import TemplateManager from '../templates/TemplateManager.js?v={{globals.version}}';
import Dialog from './Dialog.js?v={{globals.version}}';

class ErrorLogDialog extends Dialog {

    /**************************************************************************/

    static initialize () {

	/* if there is more than one error log in the document,
	   only the first one will be initialized */
	this.element = document.querySelector('#error-log');
	if(this.element){
	    this.errorLogElement = this.element.querySelector('.dialogs__content-area');
	    this.element.querySelector('.dialogs__ok-button').addEventListener('click', this.handleOK.bind(this));
	    window.addEventListener('error', this.handleError.bind(this));
	}
	
    } // constructor

    /**************************************************************************/

    static handleError (error) {

	super.show();
	console.log(`error caught ${error.message}`);
	
    } // handleError
    
    /**************************************************************************/
    
    static handleOK () {

	super.hide();
	
    } // handleOK
    
    /**************************************************************************/

} // ErrorLogDialog

export default ErrorLogDialog;

